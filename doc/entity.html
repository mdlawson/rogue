<!DOCTYPE html><html lang="en"><head><title>Rogue Docs</title><script src="highlight.pack.js"></script><link rel="stylesheet" href="styles/monokai.css"><script>hljs.initHighlightingOnLoad();
</script></head><body><ul><li><h3>Description</h3><p>&lt;p&gt;The main entity class. All entities are based on this.&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class Entity&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@param [Object] options the attributes the new entity should have&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;constructor: (options) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@updates=[]&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;util.mixin @, options&lt;br /&gt;if @require then @components.add(@require)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@ev         = new Eventer @&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@components = new Importer Rogue.components,@&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@components.add @require&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;delete @require&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @parent then @parent.e.push @&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;imports an array of components or a single component to the entity&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;The update function of the component, should be run each tick. This is done automatically by the viewport&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;update: (dt) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;func.call(@,dt) for func in @updates when func?&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class Importer&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;constructor: (@from,@dest,@mixin=true) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;add: (imports) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;imports = [].concat(imports)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;for imp in imports when not @[imp]?&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @from[imp]?&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@[imp] = new @from[imp]&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @mixin&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;for key,val of @[imp] when (key isnt &quot;onadd&quot; and key isnt &quot;onremove&quot; and key isnt &quot;run&quot; and val?)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@dest[key] = val&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @[imp].onadd then @[imp].onadd.call(@dest)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;else log 2,&quot;mixin #{imp} does not exist!&quot;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;remove: (imports) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;imports = [].concat(imports)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;for imp in imports when @[imp]?&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @mixin&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;for key,val of @[imp] when @dest[key]? and @dest[key] is @[imp][key]&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;delete @dest[key]&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @[imp].onremove then @[imp].onremove.call(@dest)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;delete @[imp]&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c = {}&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class c.sprite&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;onadd: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;unless @image then log 2, &quot;Sprite entitys require an image&quot;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@x ?= 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@y ?= 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@angle ?= 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@opacity ?= 255&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @scaleFactor? then @scale @scaleFactor, @pixel else @_recalculateImage()&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;draw: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c = @parent.context&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;r = math.round&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.save()&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.translate(r(@x-@xOffset), r(@y-@yOffset))&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.rotate(@angle*Math.PI/180)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.globalAlpha = @opacity&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.drawImage(@image, 0, 0, @width, @height)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.restore()&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;scale: (@scaleFactor, @pixel) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@y-=@height*@scaleFactor[1]/2&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@image = gfx.scale @image,@scaleFactor,@pixel&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@_recalculateImage()&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;rect: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;x: @x-@xOffset&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;y: @y-@yOffset&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;width: @width&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;height: @height&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;_recalculateImage: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@width = @image.width&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@height = @image.height&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@xOffset = math.round(@width/2)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@yOffset = math.round(@height/2)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class c.move&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;onadd: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@components.add &quot;sprite&quot;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;move: (x,y) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@x += x&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@y += y&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;moveTo: (@x,@y) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class c.tile&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;onadd: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@components.add &quot;sprite&quot;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;move: (x,y) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;util.remove @tile.contents, @&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@x += x&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@y += y&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@tile.parent.place @&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;moveTo: (@x,@y) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;util.remove @tile.contents, @&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@tile.parent.place @&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;rect: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;x: (@res[0]*@x)-@xOffset&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;y: (@res[1]*@y)-@yOffset&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;width: @width&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;height: @height&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class c.collide&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;onadd: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;unless @components[&quot;layer&quot;]? then @components.add &quot;sprite&quot;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@solid = if @components[&quot;physics&quot;]? then false else true&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;findCollisions: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;solid = @parent.find [&quot;collide&quot;],@&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@colliding = []&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;for obj in solid&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;col = @collide obj&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if col&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@ev.emit &quot;hit&quot;,col&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@colliding.push col&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;return @colliding&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;move: (x,y) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@x += x&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@y += y&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @findCollisions().length &gt; 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@x -= x&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@y -= y&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if Math.abs(x) &lt; 1 and Math.abs(y) &lt; 1&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;return false&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @move(~~(x/2), ~~(y/2))&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if not @move(~~(x/2), ~~(y/2)) then return false else&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;return true&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;else return false&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;else return true&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;d = collision.movesearch @,x,y&lt;br /&gt;  if d then @x+=d[0]; @y+=d[1]&lt;br /&gt;  return d&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class c.layer extends c.sprite&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;onadd: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@width ?= @image.width&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@height ?= @image.height&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@x ?= 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@y ?= 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@opacity ?= 255&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@angle ?= 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@xOffset = @yOffset = 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @scaleFactor then @scale @scaleFactor&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@repeatX ?= false&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@repeatY ?= false&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@scrollY ?= false&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@scrollX ?= true&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@speed ?= 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;draw: (x=0, y=0)-&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;rect = @parent.rect()&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;r = math.round&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;unless x &gt; 0 or y &gt; 0&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @scrollX then @x = math.round(rect.x*@speed)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @scrollY then @y = math.round(rect.y*@speed)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c = @parent.context&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.save()&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.rotate(@angle*Math.PI/180)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.globalAlpha = @opacity&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.translate(r(@x+x),r(@y+y))&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.drawImage(@image, 0, 0, @width, @height)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;c.restore()&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @repeatX and @x+@width+x &lt; rect.x+rect.width&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@draw(x+@width,0)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @repeatY and @y+@height+y &lt; rect.y+rect.height&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@draw(0,y+@height)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class c.tween&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;onadd: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@tweening = false&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@tweens = []&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@updates.push applytweens&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;onremove: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;util.remove @updates,applytweens&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;tween: (props, time, cb) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@tweens.push new Tween(@,props,time,cb)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;return @&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;applytweens = -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;for tween in @tweens&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;unless tween.run() then util.remove @tweens,tween&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p></p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;class Tween&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;constructor: (@en,@props,time,func,@cb) -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@func = func or (t,b,c,d) -&gt; b+c*(t/d)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@d = time*60; @t = 0; @b = {}; @c = {}&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;for prop, val of @props&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;unless isNaN(val) or isNaN(@en[prop])&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@c[prop] = val-@en[prop]&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@b[prop] = @en[prop]&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;else&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;log 2, &quot;Cannot tween #{prop} as only numerics can be tweened&quot;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;run: -&gt;&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;for prop, val of @c&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;@en[prop] = @func(@t,@b[prop],@c[prop],@d)&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @t++ is @d&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;if @cb? then @cb()&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;false&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li><li><h3>Description</h3><p>&lt;p&gt;else&lt;/p&gt;</p><h3>Code</h3><pre><code class="coffeescript"></code></pre></li></ul></body></html>